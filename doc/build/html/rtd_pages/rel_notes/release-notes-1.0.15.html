

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Notable changes &mdash; ZCash Documentation 1.0.15 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Notable changes" href="release-notes-1.0.15-rc1.html" />
    <link rel="prev" title="Notable changes" href="release-notes-1.0.14-rc1.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> ZCash Documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Documents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rtd_docs/user_guide.html">User Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Git</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../archive_git/index.html">Git</a></li>
</ul>
<p class="caption"><span class="caption-text">Wiki</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../archive_wiki/index.html">Wiki</a></li>
</ul>
<p class="caption"><span class="caption-text">Bitcoin Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../bitcoin_rel_notes/index.html">Bitcoin Release Notes</a></li>
</ul>
<p class="caption"><span class="caption-text">Release Notes</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Release Notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="release-notes-1.0.10.html">Notable changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-1.0.10.html#changelog">Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-1.0.11.html">Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-1.0.11-rc1.html">Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-1.0.12.html">Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-1.0.12-rc1.html">Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-1.0.13.html">Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-1.0.13-rc1.html">Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-1.0.13-rc2.html">Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-1.0.14.html">Notable changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-1.0.14.html#changelog">Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-1.0.14-rc1.html">Notable changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-1.0.14-rc1.html#changelog">Changelog</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Notable changes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overwinter-network-upgrade">Overwinter network upgrade</a></li>
<li class="toctree-l3"><a class="reference internal" href="#overwinter-transaction-format">Overwinter transaction format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#overwinter-transaction-expiry">Overwinter transaction expiry</a></li>
<li class="toctree-l3"><a class="reference internal" href="#utxo-and-note-merging">UTXO and note merging</a></li>
<li class="toctree-l3"><a class="reference internal" href="#utxo-memory-accounting">UTXO memory accounting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#changelog">Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-1.0.15-rc1.html">Notable changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-1.0.15-rc1.html#changelog">Changelog</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ZCash Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Release Notes</a> &raquo;</li>
        
      <li>Notable changes</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="notable-changes">
<h1>Notable changes<a class="headerlink" href="#notable-changes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overwinter-network-upgrade">
<h2>Overwinter network upgrade<a class="headerlink" href="#overwinter-network-upgrade" title="Permalink to this headline">¶</a></h2>
<p>The code preparations for the Overwinter network upgrade, as described
in <a class="reference external" href="https://github.com/zcash/zips/blob/master/zip-0200.rst">ZIP 200</a>,
<a class="reference external" href="https://github.com/zcash/zips/blob/master/zip-0201.rst">ZIP 201</a>,
<a class="reference external" href="https://github.com/zcash/zips/blob/master/zip-0202.rst">ZIP 202</a>,
<a class="reference external" href="https://github.com/zcash/zips/blob/master/zip-0203.rst">ZIP 203</a>,
and <a class="reference external" href="https://github.com/zcash/zips/blob/master/zip-0143.rst">ZIP 143</a>
are finished and included in this release. Overwinter will activate on
testnet at height 207500, and can also be activated at a specific height
in regtest mode by setting the config option
<code class="docutils literal notranslate"><span class="pre">-nuparams=5ba81b19:HEIGHT</span></code>.</p>
<p>However, because the Overwinter activation height is not yet specified
for mainnet, version 1.0.15 will behave similarly as other
pre-Overwinter releases even after a future activation of Overwinter on
the network. Upgrading from 1.0.15 will be required in order to follow
the Overwinter network upgrade on mainnet.</p>
</div>
<div class="section" id="overwinter-transaction-format">
<h2>Overwinter transaction format<a class="headerlink" href="#overwinter-transaction-format" title="Permalink to this headline">¶</a></h2>
<p>Once Overwinter has activated, transactions must use the new v3 format
(including coinbase transactions). All RPC methods that create new
transactions (such as <code class="docutils literal notranslate"><span class="pre">createrawtransaction</span></code> and <code class="docutils literal notranslate"><span class="pre">getblocktemplate</span></code>)
will create v3 transactions once the Overwinter activation height has
been reached.</p>
</div>
<div class="section" id="overwinter-transaction-expiry">
<h2>Overwinter transaction expiry<a class="headerlink" href="#overwinter-transaction-expiry" title="Permalink to this headline">¶</a></h2>
<p>Overwinter transactions created by <code class="docutils literal notranslate"><span class="pre">zcashd</span></code> will also have a default
expiry height set (the block height after which the transaction becomes
invalid) of 20 blocks after the height of the next block. This can be
configured with the config option <code class="docutils literal notranslate"><span class="pre">-txexpirydelta</span></code>.</p>
</div>
<div class="section" id="utxo-and-note-merging">
<h2>UTXO and note merging<a class="headerlink" href="#utxo-and-note-merging" title="Permalink to this headline">¶</a></h2>
<p>In order to simplify the process of combining many small UTXOs and notes
into a few larger ones, a new RPC method <code class="docutils literal notranslate"><span class="pre">z_mergetoaddress</span></code> has been
added. It merges funds from t-addresses, z-addresses, or both, and sends
them to a single t-address or z-address.</p>
<p>Unlike most other RPC methods, <code class="docutils literal notranslate"><span class="pre">z_mergetoaddress</span></code> operates over a
particular quantity of UTXOs and notes, instead of a particular amount
of ZEC. By default, it will merge 50 UTXOs and 10 notes at a time; these
limits can be adjusted with the parameters <code class="docutils literal notranslate"><span class="pre">transparent_limit</span></code> and
<code class="docutils literal notranslate"><span class="pre">shielded_limit</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">z_mergetoaddress</span></code> also returns the number of UTXOs and notes
remaining in the given addresses, which can be used to automate the
merging process (for example, merging until the number of UTXOs falls
below some value).</p>
</div>
<div class="section" id="utxo-memory-accounting">
<h2>UTXO memory accounting<a class="headerlink" href="#utxo-memory-accounting" title="Permalink to this headline">¶</a></h2>
<p>The default <code class="docutils literal notranslate"><span class="pre">-dbcache</span></code> has been changed in this release to 450MiB.
Users can set <code class="docutils literal notranslate"><span class="pre">-dbcache</span></code> to a higher value (e.g. to keep the UTXO set
more fully cached in memory). Users on low-memory systems (such as
systems with 1GB or less) should consider specifying a lower value for
this parameter.</p>
<p>Additional information relating to running on low-memory systems can be
found here:
<a class="reference external" href="https://github.com/zcash/zcash/blob/master/doc/reducing-memory-usage.md">reducing-memory-usage.md</a>.</p>
</div>
</div>
<div class="section" id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<p>21E14 (1): Remove obsolete reference to CValidationState from
UpdateCoins.</p>
<p>Alex Morcos (1): Implement helper class for CTxMemPoolEntry constructor</p>
<p>Ariel (2): add blake2b writer update SignatureHash according to
Overwinter spec</p>
<p>Ashley Holman (1): TxMemPool: Change mapTx to a
boost::multi_index_container</p>
<p>Cory Fields (2): chainparams: move CCheckpointData into chainparams.h
chainparams: don’t use std namespace</p>
<p>Daniel Kraft (1): Clean up chainparams some more.</p>
<p>Jack Grigg (43): Scope the ECDSA constant sizes to CPubKey / CKey
classes Enable Bash completion for -exportdir Check chainValueZat when
checking value pool monitoring Add missing namespace for boost::get Add
viewing key prefix to regtest parameters zkey_import_export:
Synchronize mempools before mining Use JoinSplitTestingSetup for Boost
sighash tests Network upgrade activation mechanism Allow changing
network upgrade parameters on regtest Test network upgrade logic Adjust
rewind logic to use the network upgrade mechanism Add Overwinter to
upgrade list Add method for fetching the next activation height after a
given block height Use a boost::optional for nCachedBranchId Change
UI/log status message for block rewinding Update quote from ZIP 200
Update SignatureHash tests for transaction format changes Implement
roll-back limit for reorganisation Add rollback limit to block index
rewinding Remove mempool transactions which commit to an unmineable
branch ID Remove P2WPKH and P2WSH from signing logic Add consensus
branch ID parameter to SignatureHash, remove SigVersion parameter
Cleanup: Wrap function arguments Regenerate SignatureHash tests Make
number of inputs configurable in validatelargetx test Use v3
transactions with caching for validatelargetx benchmark Extend
CWallet::GetFilteredNotes to enable filtering on a set of addresses Add
branch IDs for current and next block to getblockchaininfo Check
Equihash solution when loading block index Implement z_mergetoaddress
for combining UTXOs and notes Gate z_mergetoaddress as an experimental
feature Add z_mergetoaddress to release notes Check upgrade status in
wallet_overwintertx RPC test Document that consensus.chaintip !=
consensus.nextblock just before an upgrade Regenerate sighash tests
wallet_mergetoaddress: Add additional syncs to prevent race conditions
make-release.py: Versioning changes for 1.0.15-rc1. make-release.py:
Updated manpages for 1.0.15-rc1. make-release.py: Updated release notes
and changelog for 1.0.15-rc1. Use block hash comparison for consistency
check when loading block index Overwinter release notes and testnet
activation height make-release.py: Versioning changes for 1.0.15.
make-release.py: Updated manpages for 1.0.15.</p>
<p>Jay Graber (8): Add getdeprecationinfo rpc call to return current
version and deprecation block height. Make applicable only on mainnet
Add upgrades field to RPC call getblockchaininfo Implement transaction
expiry for Overwinter Add -txexpirydelta cli option Add
mempool_tx_expiry.py test Add expiry to z_mergetoaddress Change
rpc_tests to 21</p>
<p>Jonas Nick (1): Reduce unnecessary hashing in signrawtransaction</p>
<p>Jorge Timón (3): Chainparams: Introduce CreateGenesisBlock() static
function Chainparams: CTestNetParams and CRegTestParams extend directly
from CChainParams Mempool: Use Consensus::CheckTxInputs direclty over
main::CheckInputs</p>
<p>Marius Kjærstad (1): Changed <a class="reference external" href="http://">http://</a> to <a class="reference external" href="https://">https://</a> on some links</p>
<p>Mark Friedenbach (1): Explicitly set tx.nVersion for the genesis block
and mining tests</p>
<p>Matt Corallo (5): Add failing test checking timelocked-txn removal
during reorg Fix removal of time-locked transactions during reorg Fix
comment in removeForReorg Make indentation in ActivateBestChainStep
readable removeForReorg calls once-per-disconnect-&gt; once-per-reorg</p>
<p>Maxwell Gubler (1): Fix syntax examples for z_importwallet and export</p>
<p>Nicolas DORIER (1): Unit test for sighash caching</p>
<p>Pavel Vasin (1): remove unused NOBLKS_VERSION_{START,END} constants</p>
<p>Pieter Wuille (8): Add rewind logic to deal with post-fork software
updates Support -checkmempool=N, which runs checks on average once every
N transactions Report non-mandatory script failures correctly Refactor
script validation to observe amounts BIP143: Verification logic BIP143:
Signing logic Precompute sighashes Rename to PrecomputedTransactionData</p>
<p>Simon Liu (11): Fixes #2793. Backport commit f33afd3 to increase dbcache
default. Add documentation about dbcache. Add note about dbcache to
1.0.15 release notes. Remove redundant service flag NODE_GETUTXO meant
for Bitcoin XT. Implementation of Overwinter transaction format ZIP 202.
Add test to check malformed v1 transaction against Overwinter tx parser
Closes #2964. z_sendmany once again makes v1 tx for taddr to taddr.
Closes #2954 and #2959. Fixes Overwinter issues in sighash_tests. Add
field nProtocolVersion to struct NetworkUpgrade. Overwinter peer
management and network handshaking. Add python qa test
overwinter_peer_management.</p>
<p>Suhas Daftuar (3): Track coinbase spends in CTxMemPoolEntry Don’t call
removeForReorg if DisconnectTip fails Fix removeForReorg to use
MedianTimePast</p>
<p>jc (1): read hashReserved from disk block index</p>
<p>syd (2): Fix libsnark dependency build. Remove OSX and Windows files
from Makefile + share directory.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="release-notes-1.0.15-rc1.html" class="btn btn-neutral float-right" title="Notable changes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="release-notes-1.0.14-rc1.html" class="btn btn-neutral" title="Notable changes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Paige Peterson &amp; Marshall Gaucher.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.15',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>